<!-- 
  이 파일은 Reveal.js 기준
  6: 인프라 배포 자동화 - 어떻게 자동으로 배포되는가? (수정 버전)
  슬라이드입니다. 
-->
<section data-menu-title="배포 자동화 (How)">
  <h3>How? ②: GitHub Actions로 완전 자동화하기</h3>
  <p>
    모든 인프라 코드는 <strong>GitHub Actions</strong>와 연동되어, 코드 변경이
    자동으로 실제 AWS 인프라에 반영됩니다. <br />
    이를 통해 <strong>사람의 실수가 개입될 여지가 없는</strong> 완벽한 자동화
    배포 환경을 구축했습니다.
  </p>
  <div class="mermaid" style="margin-top: 20px">
    <pre>
%%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
sequenceDiagram
    participant D as 🧑‍💻 Developer
    participant G as <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" width="20" /> GitHub
    participant TFC as ☁️ Terraform Cloud
    participant AWS as <img src="https://a0.awsstatic.com/libra-css/images/logos/aws_logo_smile_1200x630.png" width="25" /> AWS

    D->>G: 1. `main` 브랜치에<br>Terraform 코드 Push
    G->>TFC: 2. Webhook으로 작업 트리거
    TFC->>TFC: 3. Plan 실행 (변경 사항 계산)
    TFC->>AWS: 4. Apply 실행 (인프라 변경 적용)
    Note right of TFC: (작업 결과는 TFC UI 또는<br>연동된 알림 채널에서 확인)
    </pre>
  </div>
  <aside class="notes">
    이렇게 코드로 작성된 인프라는 어떻게 실제 AWS 클라우드에 반영될까요? 저희는
    이 모든 과정을 GitHub과 Terraform Cloud를 연동하여 자동화했습니다.
    <br /><br />
    흐름은 다음과 같습니다.
    <br />
    1. 개발자가 인프라 코드를 수정하고 GitHub의 `main` 브랜치에 푸시합니다. 2.
    GitHub은 이 변경을 감지하고, 연결된
    <strong>Terraform Cloud에 Webhook 신호</strong>를 보냅니다. "코드가
    바뀌었으니 확인해봐!" 라는 신호입니다. 3. 신호를 받은 Terraform Cloud는 즉시
    해당 코드에 대한 <strong>Plan(계획)</strong> 작업을 실행하여 어떤 인프라가
    변경될지 계산합니다. 4. 계획이 완료되고 (필요시 승인 후)
    <strong>Apply(적용)</strong> 단계가 실행되면, Terraform Cloud가 직접 AWS에
    접속하여 실제 인프라를 코드와 일치하도록 변경합니다. <br /><br />
    이 방식의 핵심은, 인프라 변경의 모든 과정과 결과가
    <strong>Terraform Cloud에 중앙 집중적으로 기록되고 관리</strong>된다는
    점입니다. 개발자는 GitHub에서 코드를 관리하고, 인프라의 실제 변경 내역과
    상태는 Terraform Cloud에서 추적합니다. 이를 통해 안정적이고 신뢰할 수 있는
    인프라 운영이 가능해졌습니다.
  </aside>
</section>
